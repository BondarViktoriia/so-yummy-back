{
  "openapi": "3.0.2",
  "info": {
    "version": "0.0.1",
    "title": "So Yummy API documentation",
    "description": "API documentation for So Yummy project."
  },
  "consumes": ["application/json", "multipart/form-data"],
  "produces": ["application/json"],
  "servers": [
    {
      "url": "http://localhost:3000/api"
    },
    {
      "url": "https://so-yummy-7n94.onrender.com/api"
    }
  ],
  "tags": [
    {
      "name": "Auth",
      "description": "Authorization endpoints"
    },
    {
      "name": "Recipes",
      "description": "Recipes endpoints"
    },
    {
      "name": "Ingredients",
      "description": "Ingredients endpoints"
    },
    {
      "name": "OwnRecipes",
      "description": "Own recipes endpoints"
    },
    {
      "name": "Favorite",
      "description": "Favorite endpoints"
    },
    {
      "name": "Popular",
      "description": "Popular endpoints"
    },
    {
      "name": "Shopping-list",
      "description": "Shopping-list endpoints"
    }
  ],
  "paths": {
    "/favorite": {
      "get": {
        "tags": ["Favorite"],
        "summary": "Get favorite",
        "parameters": [],
        "sequrity": [{ "Bearer": [] }],
        "requestBody": {
          "description": "",
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FavoriteResponse"
              }
            }
          }
        },
        "response": {
          "200": {
            "description": "Succesfull operations",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "desctiption": "message",
                      "example": "Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/favorite/:id": {
      "put": {
        "tags": ["Favorite"],
        "summary": "Add favorite",
        "parameters": [],
        "sequrity": [{ "Bearer": [] }],
        "requestBody": {
          "description": "",
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FavoriteResponse"
              }
            }
          }
        },
        "response": {
          "201": {
            "description": "Added to favorite",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteResponse"
                }
              }
            }
          },
          "409": {
            "description": "This recipe has already added to favorite",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "desctiption": "message",
                      "example": "This recipe has already added to favorite"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Favorite"],
        "summary": "Delete favorite",
        "parameters": [],
        "sequrity": [{ "Bearer": [] }],
        "requestBody": {
          "description": "",
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FavoriteResponse"
              }
            }
          }
        },
        "response": {
          "201": {
            "description": "Deleted from favorite",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteResponse"
                }
              }
            }
          },
          "409": {
            "description": "This recipe is not in favorites",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "desctiption": "message",
                      "example": "This recipe is not in favorites"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ownRecipes": {
      "get": {
        "tags": ["OwnRecipes"],
        "summary": "Own recipes list",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OwnRecipesResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "desctiption": "message",
                      "example": "Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["OwnRecipes"],
        "summary": "Add own recipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Add own recipe",
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/AddOwnRecipeRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddOwnRecipeResponse"
                }
              }
            }
          },
          "409": {
            "description": "Recipe is already created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "desctiption": "message",
                      "example": "This recipe has already created"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ownRecipes/:id": {
      "delete": {
        "tags": ["OwnRecipes"],
        "summary": "Delete own recipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "Deleted: ": {
                      "type": "string",
                      "description": "Recipe's id",
                      "example": "642098424a3f87c8f4913ecc"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Recipe with id not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "desctiption": "message",
                      "example": "Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/shoppingList": {
      "get": {
        "tags": ["Shopping-list"],
        "summary": "User's shopping list",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShoppingListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Shopping-list"],
        "summary": "Add ingredient to user's shopping list",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "requestBody": {
          "description": "Ingredient's info",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddToShoppingListRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddToShoppingListRequest"
                }
              }
            }
          }
        }
      }
    },
    "/shopping-list/:itemId": {
      "delete": {
        "tags": ["Shopping-list"],
        "summary": "Delete ingredient from shopping list",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "Item deleted from shopping list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Item deleted from shopping list",
                      "example": "4575"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {}
          }
        }
      }
    },
    "/popular-recipe": {
      "get": {
        "tags": ["Popular"],
        "summary": "Popular recipes list",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PopularRecipesResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      }
    }
  },

  "components": {
    "schemas": {
      "FavoriteResponse": {
        "type": "object",
        "description": "response",
        "properties": {
          "code": {
            "type": "intager",
            "description": "code",
            "example": "200"
          },
          "status": {
            "type": "string",
            "description": "status",
            "example": "success"
          },
          "data": {
            "type": "object",
            "description": "data",
            "properties": {
              "result": {
                "type": "array",
                "items": {
                  "$ref": ""
                }
              }
            }
          }
        }
      },
      "OwnRecipesResponse": {
        "type": "array",
        "description": "Own recipes list",
        "items": {
          "type": "object",
          "properties": {
            "_id": {
              "type": "string",
              "description": "Recipe's id",
              "example": "642098424a3f87c8f4913ecc"
            },
            "title": {
              "type": "string",
              "description": "Recipe's name",
              "example": "Borsch"
            },
            "about": {
              "type": "string",
              "description": "Recipe's about",
              "example": "aboutBorsch"
            },
            "category": {
              "type": "string",
              "description": "Category name",
              "enum": [
                "Beef",
                "Breakfast",
                "Chicken",
                "Dessert",
                "Goat",
                "Lamb",
                "Miscellaneous",
                "Pasta",
                "Pork",
                "Seafood",
                "Side",
                "Starter",
                "Vegan",
                "Vegetarian"
              ]
            },
            "cookingTime": {
              "type": "string",
              "description": "Recipe's cooking time",
              "example": "15-40 min"
            },
            "ingredients": {
              "type": "array",
              "description": "Recipe's ingredients list",
              "items": {
                "type": "object",
                "properties": {
                  "ingredient": {
                    "type": "string",
                    "description": "Ingredient name",
                    "example": "Onion"
                  },
                  "qty": {
                    "type": "string",
                    "description": "Ingredient quantity",
                    "example": "5"
                  }
                }
              },
              "example": [
                {
                  "ingredient": "Salmon",
                  "qty": "20 g",
                  "imgURL": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564854/v68e3x3qklciznrsbjij.png",
                  "description": "A bulb vegetable with layers of flesh covered by a paper-like skin, used in cooking for its flavor and texture.",
                  "id": "2"
                },
                {
                  "ingredient": "Beef",
                  "qty": "300 g",
                  "imgURL": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564124/zzxbvvvye3pnooygfdgg.png",
                  "description": "Beef is the culinary name for meat from cattle, particularly skeletal muscle. Humans have been eating beef since prehistoric times. Beef is a source of high-quality protein and nutrients.Most beef skeletal muscle meat can be used as is by merely cutting into certain parts, such as roasts, short ribs or steak (filet mignon, sirloin steak, rump steak, rib steak, rib eye steak, hanger steak, etc.), while other cuts are processed (corned beef or beef jerky). Trimmings, on the other hand, are usually mixed with meat from older, leaner (therefore tougher) cattle, are ground, minced or used in sausages. The blood is used in some varieties called blood sausage. Other parts that are eaten include other muscles and offal, such as the oxtail, liver, tongue, tripe from the reticulum or rumen, glands (particularly the pancreas and thymus, referred to as sweetbread), the heart, the brain (although forbidden where there is a danger of bovine spongiform encephalopathy, BSE, commonly referred to as mad cow disease), the kidneys, and the tender testicles of the bull (known in the United States as calf fries, prairie oysters, or Rocky Mountain oysters). Some intestines are cooked and eaten as is, but are more often cleaned and used as natural sausage casings. The bones are used for making beef stock.",
                  "id": "9"
                }
              ]
            },
            "description": {
              "type": "string",
              "description": "Recipe's description",
              "example": ""
            },
            "owner": {
              "type": "string",
              "description": "Recipe's owner id",
              "example": "642098424a3f87c8f4913ecc"
            }
          }
        }
      },
      "AddOwnRecipeRequest": {
        "type": "object",
        "properties": {
          "picture": {
            "type": "string",
            "description": "Recipe's image",
            "format": "binary"
          },
          "title": {
            "type": "string",
            "description": "Recipe's name",
            "example": ""
          },
          "about": {
            "type": "string",
            "description": "Recipe's about",
            "example": ""
          },
          "category": {
            "type": "string",
            "description": "Category name",
            "enum": [
              "Beef",
              "Breakfast",
              "Chicken",
              "Dessert",
              "Goat",
              "Lamb",
              "Miscellaneous",
              "Pasta",
              "Pork",
              "Seafood",
              "Side",
              "Starter",
              "Vegan",
              "Vegetarian"
            ]
          },
          "cookingTime": {
            "type": "string",
            "description": "Recipe's cooking time",
            "example": "40-50 min"
          },
          "ingredients": {
            "type": "array",
            "description": "Recipe's ingredients list",
            "items": {
              "type": "object",
              "properties": {
                "ingredient": {
                  "type": "string",
                  "description": "Ingredient`s name",
                  "example": "Beef"
                },
                "qty": {
                  "type": "string",
                  "description": "Ingredient`s quantity",
                  "example": "20"
                }
              }
            },
            "example": [
              {
                "ingredient": "Beef",
                "qty": "2000 g"
              },
              {
                "ingredient": "Carrot",
                "qty": "300 g"
              }
            ]
          },
          "description": {
            "type": "string",
            "description": "Recipe's description",
            "example": "Recipe's description"
          }
        }
      },
      "AddOwnRecipeResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Recipe's id",
            "example": "642098424a3f87c8f4913ecc"
          },
          "title": {
            "type": "string",
            "description": "Recipe's name",
            "example": "Borsch"
          },
          "about": {
            "type": "string",
            "description": "Recipe's about",
            "example": "aboutBorsch"
          },
          "category": {
            "type": "string",
            "description": "Category name",
            "enum": [
              "Beef",
              "Breakfast",
              "Chicken",
              "Dessert",
              "Goat",
              "Lamb",
              "Miscellaneous",
              "Pasta",
              "Pork",
              "Seafood",
              "Side",
              "Starter",
              "Vegan",
              "Vegetarian"
            ]
          },
          "cookingTime": {
            "type": "string",
            "description": "Recipe's cooking time",
            "example": "30-45 min"
          },
          "description": {
            "type": "string",
            "description": "Recipe's description",
            "example": "Recipe's description"
          }
        }
      },
      "AddToShoppingListRequest": {
        "type": "object",
        "properties": {
          "strIngredient": {
            "type": "string",
            "description": "Ingredient's name",
            "example": "Beef"
          },
          "weight": {
            "type": "string",
            "description": "Ingredient's quantity",
            "example": "1"
          },
          "image": {
            "type": "string",
            "description": "Ingredient's image",
            "example": "https://res.cloudinary.com/ddbvbv5sp/image/upload/v1678564124/zzxbvvvye3pnooygfdgg.png"
          },
          "recipeId": {
            "type": "string",
            "description": "Recipe's id",
            "example": "10568"
          }
        }
      },
      "PopularRecipesResponse": {
        "type": "object",
        "properties": {
          "meals": {
            "type": "array",
            "description": "Popular recipes list",
            "items": {
              "type": "object",
              "properties": {
                "idMeal": {
                  "type": "string",
                  "description": "Recipe's id",
                  "example": "6426a8c69388c4008e8266f9"
                },
                "title": {
                  "type": "string",
                  "description": "Recipe's name",
                  "example": "Bakewell tart"
                },
                "description": {
                  "type": "string",
                  "description": "Recipe's instruction",
                  "example": "A British dessert consisting of a shortcrust pastry shell filled with raspberry jam, frangipane, and topped with almonds."
                },
                "thumb": {
                  "type": "string",
                  "description": "Recipe's image",
                  "example": "https://www.themealdb.com/images/media/meals/wyrqqq1468233628.jpg"
                }
              }
            }
          }
        }
      }
    }
  },

  "securitySchemes": {
    "Bearer": {
      "type": "http",
      "scheme": "bearer",
      "bearerFormat": "JWT"
    }
  }
}
